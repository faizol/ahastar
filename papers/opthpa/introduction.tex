\section{Introduction}
Many studies on single-agent path finding have been focused in one of two directions:
identifying better heuristics to 
guide search and reducing the search space through hierarchical decomposition.
In case of the former, obtaining heuristics more informed than the popular
Manhattan heuristic usually has the downsize of a significant memory overhead.
Well-known examples of memory-intensive heuristics for path finding are
the landmark heuristic \cite{} and variations of this idea, such as the dead-end heuristic \cite{}.
Increasing the accuracy of a heuristic helps to improve the average time performance,
but there is no guarantee of a speed-up in all instances.
It has been shown that even almost perfect heuristics,
which differ from the perfect information by at most a (small) additive constant,
can result in poor performance in some search-intensive problems such as AI planning~\cite{malte08,korf98}.
Our simple example shown in Figure \ref{fig-emptymap}(a), which we discuss later,
shows a similar behaviour in path finding.

In the case of hierarchical decomposition, techniques such as
HPA*~\cite{} and PRA*~\cite{} explore a reduced state space, 
which makes them fast. They require no significant extra-memory
compared to A* on a standard grid map.
However, they have the disadvantage that solutions are not guaranteed 
to be optimal.

Compared to a standard pathfinding method, such as A* with 
the Manhattan heuristic on a grid map,
all techniques outlined earlier provide a performance trade-off.
They are typically faster but, at the same time, they either require significant
extra memory, or provide no optimality guarantees.

In this work we explore a technique that reduces the state space while preserving optimality.
No significant additional memory is needed. Depending on the map topology,
our technique, called OHA*, can in fact use less memory than standard A*.
%OHA* is orthogonal to memory-intensive heuristics.
%The former reduces the size of the search graph before a search begins.
%The latter guide the exploration of the search graph.
%If desired, the two can be combined.

%\par
We consider the problem of optimal path planning on 4-connected grid maps (or tile maps), so called because movement is restricted to the four cardinal directions, 
This simple domain appears in application areas such as robotics \cite{latombe91} and video games 
(cite one of the Game/AI Programming Gems books).
OHA* exploits the fact that
there can be many shortest path fragments between two given location
on an empty area of a map.
Among many equivalent shortest fragments between two locations that belong to an optimal path,
it is enough to consider one.
This can reduce the search effort significantly, while maintaining solution optimality.

As a motivating example, Figure \ref{fig-emptymap}(a) shows an instance
which requires finding a shortest path from S to G in a mostly empty room.
\begin{figure}[htbp]
	\vspace{-4pt}
       \begin{center}
                       \includegraphics[scale=0.30, trim = 20mm 20mm 20mm 0mm]{diagrams/emptymap.png}
       \end{center}
	\vspace{-3pt}
       \caption{\textbf{(a)} A simple (yet computationally difficult) pathfinding problem; find an 
optimal length path from $S$ to $G$ in a mostly empty area. 
Many solutions exist; we highlight three. 
\textbf{(b)} A typical map from BioWare's Baldur's Gate.}
       \label{fig-emptymap}
	\vspace{-12pt}
\end{figure}
This scenario appears as a subproblem in many real-world path planning applications but particularly
in video games.
For example, BioWare's popular fantasy role-playing game \emph{Baldur's Gate} features complex dungeon
 areas that are composed of adjacent mostly empty rooms (see Figure \ref{fig-emptymap}(b) for an example).
It can easily be shown that, in the example in Figure \ref{fig-emptymap}(a), the Manhattan heuristic is almost perfect: $\forall n, 0 \leq h*(n) - h(n) \leq 2$.
Yet, if we apply A* \cite{hart68} to solving the instance in Figure \ref{fig-emptymap}(a), 
we find that the algorithm must expand all tiles in the grey 
area and at least some of those in the white area.
Indeed, every node in the grey area has an $f$-value smaller than the $f$-value of the target,
which means that A* will necessary expand all nodes in the grey area.
Given an unfavourable tie-breaking strategy A* will generate all nodes on the map and of those expand 
all but one.
\par
In solving the problem from Figure \ref{fig-emptymap} it is helpful to observe that although many optimal 
length solutions exist all are dominated by the two paths which may be found along the perimeter of 
the room. 
We generalise this observation to the related problem of traversing across empty rooms (which are 
often just as difficult for A* to solve) and show that it is possible to optimally navigate across 
such areas without ever exploring tiles that are not on the perimeter.
This result forms the basis for a new hierarchical search method which decomposes 4-connected grid maps
into a set of adjacent empty rooms. 
We show that it is possible to optimally traverse such an area by only ever expanding nodes along the
perimeter of an empty room without ever needing to explore the interior.
We undertake an empirical analysis and show that our technique is also fast and memory efficient,
yielding results comparable with state-of-the-art suboptimal hierarchical planners.
